<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
  
  <title>Netflix Code Getter - Household Access Codes</title>
  <meta name="description" content="Simple tool to retrieve Netflix household and temporary access codes." />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  
  <style>
    /* Google Translate Widget - Hidden but functional */
    #google_translate_element {
      position: fixed;
      top: -9999px;
      left: -9999px;
      visibility: hidden;
      opacity: 0;
      pointer-events: none;
    }
    
    .goog-te-banner-frame,
    .goog-te-menu-value span,
    .goog-te-gadget span,
    .VIpgJd-ZVi9od-l4eHX-hSRGPd {
      display: none !important;
    }
    
    body {
      top: 0 !important;
    }
    
    /* Custom Language Selector */
    .language-selector {
      position: fixed;
      top: 16px;
      right: 16px;
      z-index: 9999;
    }
    
    .language-btn {
      display: flex;
      align-items: center;
      gap: 8px;
      background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
      border: 1px solid #404040;
      border-radius: 12px;
      padding: 10px 16px;
      color: #ffffff;
      font-family: 'Inter', sans-serif;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }
    
    .language-btn:hover {
      background: linear-gradient(135deg, #2d2d2d 0%, #3d3d3d 100%);
      border-color: #e50914;
      box-shadow: 0 6px 16px rgba(229, 9, 20, 0.3);
      transform: translateY(-2px);
    }
    
    .language-icon {
      width: 20px;
      height: 20px;
      fill: #e50914;
    }
    
    .language-dropdown {
      position: absolute;
      top: calc(100% + 8px);
      right: 0;
      background: #1a1a1a;
      border: 1px solid #404040;
      border-radius: 12px;
      padding: 8px;
      min-width: 200px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.5);
      opacity: 0;
      visibility: hidden;
      transform: translateY(-10px);
      transition: all 0.3s ease;
    }
    
    .language-dropdown.active {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }
    
    .language-option {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px 12px;
      color: #ffffff;
      font-family: 'Inter', sans-serif;
      font-size: 14px;
      font-weight: 500;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    
    .language-option:hover {
      background: #2d2d2d;
      color: #e50914;
    }
    
    .language-option.active {
      background: #e50914;
      color: #ffffff;
    }
    
    .language-flag {
      font-size: 20px;
    }
    
    @media (max-width: 640px) {
      .language-selector {
        top: 12px;
        right: 12px;
      }
      
      .language-btn {
        padding: 8px 12px;
        font-size: 13px;
      }
      
      .language-dropdown {
        min-width: 180px;
      }
      
      .language-option {
        font-size: 13px;
      }
    }
  </style>

  <script type="text/javascript">
    // Language configuration with IP-based auto-detection
    const LANGUAGES = [
      { code: 'en', name: 'English', flag: 'ðŸ‡¬ðŸ‡§', countries: ['US', 'GB', 'CA', 'AU', 'NZ', 'IE', 'SG'] },
      { code: 'es', name: 'EspaÃ±ol', flag: 'ðŸ‡ªðŸ‡¸', countries: ['ES', 'MX', 'AR', 'CO', 'CL', 'PE'] },
      { code: 'bn', name: 'à¦¬à¦¾à¦‚à¦²à¦¾', flag: 'ðŸ‡§ðŸ‡©', countries: ['BD'] },
      { code: 'hi', name: 'à¤¹à¤¿à¤¨à¥à¤¦à¥€', flag: 'ðŸ‡®ðŸ‡³', countries: ['IN'] },
      { code: 'fr', name: 'FranÃ§ais', flag: 'ðŸ‡«ðŸ‡·', countries: ['FR', 'BE', 'CH', 'CA'] },
      { code: 'ar', name: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©', flag: 'ðŸ‡¸ðŸ‡¦', countries: ['SA', 'AE', 'EG', 'MA', 'DZ'] },
      { code: 'pt', name: 'PortuguÃªs', flag: 'ðŸ‡µðŸ‡¹', countries: ['PT', 'BR'] },
      { code: 'de', name: 'Deutsch', flag: 'ðŸ‡©ðŸ‡ª', countries: ['DE', 'AT', 'CH'] },
      { code: 'ko', name: 'í•œêµ­ì–´', flag: 'ðŸ‡°ðŸ‡·', countries: ['KR'] },
      { code: 'it', name: 'Italiano', flag: 'ðŸ‡®ðŸ‡¹', countries: ['IT'] }
    ];

    let currentLanguage = 'en';
    let detectedCountry = null;

    // Detect user's country via IP
    async function detectCountry() {
      try {
        const response = await fetch('https://ipapi.co/json/', { timeout: 3000 });
        const data = await response.json();
        detectedCountry = data.country_code;
        console.log('Detected country:', detectedCountry);
        return detectedCountry;
      } catch (e) {
        console.log('IP detection failed, using browser language');
        return null;
      }
    }

    // Auto-select language based on country
    function autoSelectLanguage() {
      if (!detectedCountry) return 'en';
      
      for (const lang of LANGUAGES) {
        if (lang.countries.includes(detectedCountry)) {
          console.log('Auto-selected language:', lang.name);
          return lang.code;
        }
      }
      
      return 'en';
    }

    // Change Google Translate language
    function changeLanguage(langCode) {
      const selectElement = document.querySelector('.goog-te-combo');
      if (selectElement) {
        selectElement.value = langCode;
        selectElement.dispatchEvent(new Event('change'));
        currentLanguage = langCode;
        
        // Update UI
        const selectedLang = LANGUAGES.find(l => l.code === langCode);
        document.getElementById('current-lang-flag').textContent = selectedLang.flag;
        document.getElementById('current-lang-name').textContent = selectedLang.name;
        
        // Update active state
        document.querySelectorAll('.language-option').forEach(opt => {
          opt.classList.toggle('active', opt.dataset.lang === langCode);
        });
        
        // Save preference
        localStorage.setItem('preferred-language', langCode);
      }
    }

    // Initialize Google Translate
    function googleTranslateElementInit() {
      new google.translate.TranslateElement({
        pageLanguage: 'en',
        includedLanguages: LANGUAGES.map(l => l.code).join(','),
        autoDisplay: false,
        layout: google.translate.TranslateElement.InlineLayout.SIMPLE
      }, 'google_translate_element');

      // Wait for widget to load, then auto-select language
      let attempts = 0;
      const checkInterval = setInterval(() => {
        attempts++;
        const selectElement = document.querySelector('.goog-te-combo');
        
        if (selectElement && selectElement.options.length > 1) {
          clearInterval(checkInterval);
          
          // Check saved preference first
          const savedLang = localStorage.getItem('preferred-language');
          if (savedLang && savedLang !== 'en') {
            changeLanguage(savedLang);
          } else if (detectedCountry) {
            const autoLang = autoSelectLanguage();
            if (autoLang !== 'en') {
              changeLanguage(autoLang);
            }
          }
        }
        
        if (attempts >= 50) clearInterval(checkInterval);
      }, 200);
    }

    // Initialize on page load
    window.addEventListener('DOMContentLoaded', async () => {
      // Detect country first
      await detectCountry();
      
      // Setup language selector
      const languageBtn = document.getElementById('language-btn');
      const languageDropdown = document.getElementById('language-dropdown');
      
      languageBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        languageDropdown.classList.toggle('active');
      });
      
      document.addEventListener('click', () => {
        languageDropdown.classList.remove('active');
      });
      
      // Setup language options
      const dropdownContainer = document.getElementById('language-options');
      LANGUAGES.forEach(lang => {
        const option = document.createElement('div');
        option.className = 'language-option';
        option.dataset.lang = lang.code;
        option.innerHTML = `
          <span class="language-flag">${lang.flag}</span>
          <span>${lang.name}</span>
        `;
        option.addEventListener('click', () => {
          changeLanguage(lang.code);
          languageDropdown.classList.remove('active');
        });
        dropdownContainer.appendChild(option);
      });
    });
  </script>
  
  <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</head>
<body>
  <!-- Hidden Google Translate Widget -->
  <div id="google_translate_element"></div>

  <!-- Custom Language Selector -->
  <div class="language-selector">
    <button id="language-btn" class="language-btn">
      <svg class="language-icon" viewBox="0 0 24 24">
        <path d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/>
      </svg>
      <span id="current-lang-flag">ðŸ‡¬ðŸ‡§</span>
      <span id="current-lang-name">English</span>
      <svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor">
        <path d="M6 9L1 4h10z"/>
      </svg>
    </button>
    
    <div id="language-dropdown" class="language-dropdown">
      <div id="language-options"></div>
    </div>
  </div>

  <div id="root"></div>
  <script type="module" src="/src/main.jsx"></script>
</body>
</html>
